(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,o,t){},15:function(e,o,t){"use strict";t.r(o);var c=t(0),r=t.n(c),i=t(4),n=t.n(i),a=(t(14),t(1));const s={BASIC:[{combo:"M",description:"Move"},{combo:"V",description:"Via"},{combo:"R",description:"Rotate"},{combo:"Del",description:"Delete"},{combo:"Ctrl+Z",description:"Undo"},{combo:"Ctrl+Y",description:"Redo"},{combo:"F1",description:"Help"},{combo:"F2",description:"Rename"},{combo:"F3",description:"Search"},{combo:"L",description:"Line"},{combo:"E",description:"Extrude"},{combo:"P",description:"Project"},{combo:"C",description:"Circle"},{combo:"Q",description:"Press/Pull"},{combo:"X",description:"Cut"},{combo:"S",description:"Sketch"},{combo:"T",description:"Text"},{combo:"Ctrl+C",description:"Copy"},{combo:"Ctrl+V",description:"Paste"},{combo:"Ctrl+Z",description:"Undo"},{combo:"Ctrl+X",description:"Cut"},{combo:"Ctrl+S",description:"Save"},{combo:"Ctrl+Shift+G",description:"Ungroup"},{combo:"Alt+Shift+B",description:"Bring to Back"},{combo:"Ctrl+D",description:"Duplicate"},{combo:"Ctrl+Alt+K",description:"Lock"},{combo:"Ctrl+P",description:"Command Palette"},{combo:"Ctrl+Shift+P",description:"Show All Commands"},{combo:"Ctrl+F",description:"Find"},{combo:"Alt+Shift+F",description:"Format Document"}],WINDOWS_SHORTCUTS:[{combo:"Win+D",description:"Show Desktop"},{combo:"Win+E",description:"Open File Explorer"},{combo:"Win+L",description:"Lock Screen"},{combo:"Win+Tab",description:"Task View"},{combo:"Alt+F4",description:"Close App/Shutdown"},{combo:"Ctrl+Shift+Esc",description:"Open Task Manager"},{combo:"Win+PrintScreen",description:"Screenshot to File"},{combo:"Win+.",description:"Emoji Panel"},{combo:"Win+Shift+S",description:"Snip & Sketch"}],MACOS_SHORTCUTS:[{combo:"Cmd+Space",description:"Spotlight Search"},{combo:"Cmd+C",description:"Copy"},{combo:"Cmd+V",description:"Paste"},{combo:"Cmd+Z",description:"Undo"},{combo:"Cmd+X",description:"Cut"},{combo:"Cmd+S",description:"Save"},{combo:"Cmd+Q",description:"Quit App"},{combo:"Cmd+W",description:"Close Window"},{combo:"Cmd+Tab",description:"Switch Apps"},{combo:"Cmd+Shift+3",description:"Screenshot Full"},{combo:"Cmd+Shift+4",description:"Screenshot Selection"}],LINUX_SHORTCUTS:[{combo:"Ctrl+Alt+T",description:"Open Terminal"},{combo:"Alt+Tab",description:"Switch Windows"},{combo:"Ctrl+Alt+Del",description:"Logout/Shutdown Menu"},{combo:"Super+D",description:"Show Desktop"},{combo:"Super+L",description:"Lock Screen"},{combo:"Ctrl+Shift+N",description:"New Folder"},{combo:"F2",description:"Rename File"},{combo:"PrintScreen",description:"Screenshot"},{combo:"ls",description:"List directory contents"},{combo:"cd",description:"Change directory"},{combo:"pwd",description:"Print working directory"},{combo:"mkdir",description:"Make directory"},{combo:"rm",description:"Remove file/directory"},{combo:"cp",description:"Copy file"},{combo:"mv",description:"Move file"},{combo:"sudo",description:"Run command as superuser"},{combo:"man",description:"Manual pages"},{combo:"top",description:"Show running processes"},{combo:"ps",description:"List processes"},{combo:"kill",description:"Terminate process"},{combo:"grep",description:"Search text"},{combo:"chmod",description:"Change permissions"},{combo:"chown",description:"Change ownership"},{combo:"nano",description:"Text editor"},{combo:"vim",description:"Vi Improved editor"},{combo:"df",description:"Disk usage"},{combo:"du",description:"Directory usage"},{combo:"tar",description:"Archive files"},{combo:"zip/unzip",description:"Compress/Extract"},{combo:"ssh",description:"Remote access"},{combo:"scp",description:"Secure copy"},{combo:"wget",description:"Download files"},{combo:"curl",description:"Transfer data"},{combo:"alias",description:"Create shortcut command"},{combo:"history",description:"Show command history"},{combo:"clear",description:"Clear terminal"},{combo:"reboot",description:"Restart system"},{combo:"shutdown",description:"Shutdown system"},{combo:"uptime",description:"Show system uptime"}],ANDROID_SHORTCUTS:[{combo:"RecentApps",description:"Show Recent Apps"},{combo:"Home",description:"Go Home"},{combo:"Back",description:"Go Back"},{combo:"VolumeUp",description:"Volume Up"},{combo:"VolumeDown",description:"Volume Down"},{combo:"Power",description:"Power Button"},{combo:"Search",description:"Open Search"},{combo:"Camera",description:"Open Camera"}],IPAD_SHORTCUTS:[{combo:"Cmd+Space",description:"Search/Spotlight"},{combo:"Cmd+H",description:"Go Home"},{combo:"Cmd+Tab",description:"Switch Apps"},{combo:"Cmd+Shift+3",description:"Screenshot Full"},{combo:"Cmd+Shift+4",description:"Screenshot Selection"},{combo:"Globe+C",description:"Copy (Contextual)"},{combo:"Globe+V",description:"Paste (Contextual)"},{combo:"Globe+Z",description:"Undo (Contextual)"}],MINECRAFT_SHORTCUTS:[{combo:"W",description:"Move forward"},{combo:"A",description:"Move left"},{combo:"S",description:"Move backward"},{combo:"D",description:"Move right"},{combo:"Space",description:"Jump"},{combo:"Shift",description:"Sneak"},{combo:"Ctrl",description:"Sprint"},{combo:"E",description:"Open inventory"},{combo:"Q",description:"Drop selected item"},{combo:"T",description:"Open chat"},{combo:"F3+D",description:"Clear chat"},{combo:"F5",description:"Change camera"},{combo:"F8",description:"Smooth camera"},{combo:"Tab",description:"Player list"},{combo:"Esc",description:"Menu"},{combo:"Middle Click",description:"Pick block (Creative)"},{combo:"Double Space",description:"Fly toggle (Creative)"},{combo:"Ctrl+Middle Click",description:"Copy block with NBT"},{combo:"Shift+Left Click",description:"Destroy instantly (Creative)"},{combo:"Shift+Right Click",description:"Edit command block (Creative)"},{combo:"Shift+Click",description:"Move stack (Inventory)"},{combo:"Ctrl+Q",description:"Drop stack"},{combo:"Ctrl+Click",description:"Select same items"},{combo:"Double Click",description:"Grab all of that item"},{combo:"Mouse wheel",description:"Scroll hotbar"},{combo:"Number+Hover",description:"Move item to hotbar"},{combo:"F3+N",description:"Switch gamemode"},{combo:"Alt+F4",description:"Rage quit"},{combo:"F3+C",description:"Force crash"},{combo:"F3+A",description:"Reload chunks"},{combo:"Shift+Click",description:"Craft all (in recipe book)"}],WAR_THUNDER_SHORTCUTS:[{combo:"W/S",description:"Throttle up/down"},{combo:"A/D",description:"Rudder left/right"},{combo:"Q/E",description:"Roll left/right"},{combo:"Shift",description:"Afterburner"},{combo:"Ctrl",description:"Air brake"},{combo:"G",description:"Landing gear"},{combo:"F",description:"Flaps"},{combo:"V",description:"View mode"},{combo:"C",description:"Free camera"},{combo:"X",description:"Look left"},{combo:"Z",description:"Look right"},{combo:"Y",description:"Look back"},{combo:"B",description:"Bomb view"},{combo:"N",description:"Navigation lights"},{combo:"J",description:"Bail out"},{combo:"M",description:"Map"},{combo:"Tab",description:"Scoreboard"},{combo:"T",description:"Target"},{combo:"R",description:"Radar"},{combo:"H",description:"Head tracking"},{combo:"Space",description:"Fire main guns"},{combo:"Alt",description:"Fire secondary"},{combo:"Ctrl+Space",description:"Drop bomb"},{combo:"Shift+Space",description:"Fire rocket"},{combo:"Mouse 2",description:"Zoom"},{combo:"Mouse 1",description:"Fire guns"},{combo:"Mouse 3",description:"Track enemy"},{combo:"F1",description:"Help"},{combo:"F2",description:"Toggle cockpit"},{combo:"F3",description:"Chase camera"},{combo:"W/A/S/D",description:"Drive (Tank)"},{combo:"Shift",description:"Speed boost"},{combo:"V",description:"Binocular view"},{combo:"U",description:"Repair"},{combo:"O",description:"Toggle optics"},{combo:"K",description:"Thermal/IR"},{combo:"L",description:"Headlights"},{combo:"R",description:"Rangefinder"},{combo:"C",description:"Commander cam"},{combo:"X",description:"Machine gun"},{combo:"Esc",description:"Menu"},{combo:"Enter",description:"Chat"},{combo:"Backspace",description:"Leave vehicle"},{combo:"Home",description:"Reset view"},{combo:"Del",description:"Zoom out"},{combo:"Ins",description:"Zoom in"},{combo:"Alt+F10",description:"Save replay"},{combo:"Alt+PrintScreen",description:"Screenshot"},{combo:"Ctrl+Y",description:"Chat channel"},{combo:"Ctrl+G",description:"Gunner view"}],ROBLOX_STUDIO_SHORTCUTS:[{combo:"Ctrl+S",description:"Save"},{combo:"Ctrl+Shift+S",description:"Save As"},{combo:"Ctrl+N",description:"New place"},{combo:"Ctrl+O",description:"Open place"},{combo:"Ctrl+Z",description:"Undo"},{combo:"Ctrl+Y",description:"Redo"},{combo:"Ctrl+C/V/X",description:"Copy/Paste/Cut"},{combo:"Ctrl+D",description:"Duplicate"},{combo:"Ctrl+G",description:"Group"},{combo:"Ctrl+U",description:"Ungroup"},{combo:"Ctrl+P",description:"Publish"},{combo:"F",description:"Focus selection"},{combo:"Shift+F",description:"Follow camera"},{combo:"Alt+Click",description:"Select parent"},{combo:"Ctrl+Click",description:"Multi-select"},{combo:"Ctrl+Shift+H",description:"View explorer"},{combo:"Ctrl+Shift+X",description:"Properties"},{combo:"Ctrl+Shift+C",description:"Output"},{combo:"Ctrl+Shift+D",description:"Asset manager"},{combo:"Ctrl+Shift+E",description:"Toolbox"},{combo:"W/A/S/D",description:"Camera move"},{combo:"E/Q",description:"Move up/down"},{combo:"T",description:"Rotate"},{combo:"R",description:"Resize"},{combo:"G",description:"Move"},{combo:"Ctrl+T",description:"Anchor"},{combo:"Ctrl+L",description:"Lock"},{combo:"Ctrl+B",description:"Break joints"},{combo:"Ctrl+J",description:"Join surfaces"},{combo:"Ctrl+M",description:"Material"},{combo:"Ctrl+Shift+M",description:"Model"},{combo:"Shift+Drag",description:"Constrain"},{combo:"Arrow Keys",description:"Nudge"},{combo:"Ctrl+P",description:"Quick publish"},{combo:"Alt+Shift+E",description:"Export"},{combo:"Ctrl+S",description:"Save"}],ENLISTED_SHORTCUTS:[{combo:"W/A/S/D",description:"Move"},{combo:"Space",description:"Jump"},{combo:"Shift",description:"Sprint"},{combo:"Ctrl",description:"Crouch"},{combo:"Z",description:"Prone"},{combo:"X",description:"Lean left"},{combo:"C",description:"Lean right"},{combo:"F",description:"Interact"},{combo:"R",description:"Reload"},{combo:"G",description:"Grenade"},{combo:"T",description:"Pick weapon"},{combo:"V",description:"Melee"},{combo:"B",description:"Fire mode"},{combo:"Q/E",description:"Switch soldier"},{combo:"Tab",description:"Scoreboard"},{combo:"M",description:"Map"},{combo:"N",description:"Night vision"},{combo:"Y",description:"Orders"},{combo:"L",description:"Flashlight"},{combo:"Esc",description:"Menu"},{combo:"Click",description:"Fire"},{combo:"Right Click",description:"Aim"},{combo:"Scroll",description:"Change weapon"},{combo:"1-3",description:"Weapons"},{combo:"H",description:"Help"},{combo:"Alt",description:"Free look"},{combo:"Ctrl+Shift",description:"Walk"},{combo:"F1",description:"Camera"},{combo:"Alt+M",description:"Minimap"},{combo:"Ctrl+R",description:"Reload prone"},{combo:"Ctrl+F1",description:"Switch class"},{combo:"Alt+V",description:"Change view"},{combo:"Middle Mouse",description:"Ping"},{combo:"Hold T",description:"Mark enemy"},{combo:"Hold Shift",description:"Sprint long"},{combo:"Hold F",description:"Plant/diffuse"},{combo:"Ctrl+Number",description:"Squad command"},{combo:"Shift+1-4",description:"Formations"},{combo:"K",description:"Kill feed"},{combo:"U",description:"Medkit"},{combo:"1",description:"Inventory"},{combo:"Backspace",description:"Suicide"},{combo:"Del",description:"Respawn"},{combo:"F3",description:"Record"},{combo:"F12",description:"Screenshot"},{combo:"Tilde",description:"Console"},{combo:"Ctrl+Alt+Delete",description:"Force quit"}],CODING_IDE_SHORTCUTS:[{combo:"Ctrl+P",description:"Quick open file"},{combo:"Ctrl+Shift+P",description:"Command palette"},{combo:"Ctrl+`",description:"Terminal toggle"},{combo:"Ctrl+B",description:"Sidebar toggle"},{combo:"Ctrl+J",description:"Panel toggle"},{combo:"Ctrl+Shift+E",description:"Explorer"},{combo:"Ctrl+Shift+F",description:"Search in files"},{combo:"Ctrl+Shift+G",description:"Git"},{combo:"Ctrl+Shift+D",description:"Debug"},{combo:"Ctrl+Shift+X",description:"Extensions"},{combo:"Ctrl+Space",description:"Trigger suggestion"},{combo:"Ctrl+/-",description:"Comment line"},{combo:"Alt+Up/Down",description:"Move line"},{combo:"Shift+Alt+Down",description:"Copy line down"},{combo:"Ctrl+Shift+K",description:"Delete line"},{combo:"Ctrl+D",description:"Select next occurrence"},{combo:"Ctrl+L",description:"Select line"},{combo:"Ctrl+Enter",description:"Insert line below"},{combo:"Ctrl+Shift+Enter",description:"Insert line above"},{combo:"Ctrl+Shift+-",description:"Jump to bracket"},{combo:"Ctrl+Tab",description:"Next editor"},{combo:"Ctrl+Shift+Tab",description:"Previous editor"},{combo:"Ctrl+W",description:"Close editor"}],KICAD_SHORTCUTS:[{combo:"Ctrl+N",description:"New project"},{combo:"Ctrl+O",description:"Open project"},{combo:"Ctrl+S",description:"Save"},{combo:"Ctrl+Z",description:"Undo"},{combo:"Ctrl+Y",description:"Redo"},{combo:"Ctrl+C/V/X",description:"Copy/Paste/Cut"},{combo:"Del",description:"Delete"},{combo:"R",description:"Rotate"},{combo:"M",description:"Move"},{combo:"E",description:"Edit properties"},{combo:"W",description:"Wire"},{combo:"P",description:"Place component"},{combo:"Shift+Space",description:"Cycle units"},{combo:"Page Up/Down",description:"Zoom in/out"},{combo:"Ctrl+Scroll",description:"Zoom"},{combo:"F1/F2/F3/F4",description:"Pan directions"},{combo:"Space",description:"Reset origin"},{combo:"Alt+1-5",description:"Layer view"},{combo:"Ctrl+B",description:"Rebuild ratsnest"},{combo:"Ctrl+H",description:"Highlight net"}],FUSION_360_SHORTCUTS:[{combo:"S",description:"Toolbox"},{combo:"L",description:"Line"},{combo:"R",description:"Rectangle"},{combo:"C",description:"Circle"},{combo:"D",description:"Dimension"},{combo:"T",description:"Text"},{combo:"M",description:"Move"},{combo:"Q",description:"Press/Pull"},{combo:"E",description:"Extrude"},{combo:"F",description:"Fillet"},{combo:"Shift+S",description:"Sketch shortcuts"},{combo:"Ctrl+Z/Y",description:"Undo/Redo"},{combo:"Ctrl+C/V",description:"Copy/Paste"},{combo:"Delete",description:"Remove"},{combo:"B",description:"Emboss"},{combo:"J",description:"Joint"},{combo:"H",description:"Hole"},{combo:"G",description:"Grid settings"},{combo:"Tab",description:"Switch input"},{combo:"Alt+Drag",description:"Orbit"},{combo:"Shift+Scroll",description:"Pan"},{combo:"Scroll",description:"Zoom"},{combo:"Home",description:"View cube"},{combo:"F6",description:"Home view"},{combo:"F7",description:"Slice"},{combo:"Ctrl+1/2/3",description:"Orthographic views"},{combo:"Ctrl+Shift+E",description:"Export"},{combo:"Ctrl+S",description:"Save"}],CANVA_SHORTCUTS:[{combo:"Ctrl+C/V/X",description:"Copy/Paste/Cut"},{combo:"Ctrl+Z/Y",description:"Undo/Redo"},{combo:"Ctrl+A",description:"Select all"},{combo:"Delete",description:"Remove"},{combo:"Ctrl+G/U",description:"Group/Ungroup"},{combo:"Ctrl+D",description:"Duplicate"},{combo:"Shift+Arrow",description:"Nudge"},{combo:"Alt+Drag",description:"Duplicate while dragging"},{combo:"T",description:"Add text"},{combo:"R",description:"Add rectangle"},{combo:"L",description:"Add line"},{combo:"C",description:"Add circle"},{combo:"B",description:"Bold"},{combo:"I",description:"Italic"},{combo:"U",description:"Underline"},{combo:"Ctrl+K",description:"Link"},{combo:"Ctrl+Shift+K",description:"Unlink"},{combo:"Ctrl+E",description:"Align center"},{combo:"Ctrl+L/R",description:"Align left/right"},{combo:"Ctrl+Shift+M",description:"Comment"},{combo:"Alt+[/]",description:"Layer back/front"},{combo:"Ctrl+P",description:"Print"},{combo:"Ctrl+S",description:"Save"},{combo:"Ctrl+Shift+S",description:"Save As"},{combo:"Ctrl+Shift+D",description:"Download"}],MEDIA:[{combo:"KC_MPRV",description:"Prev Track"},{combo:"KC_MNXT",description:"Next Track"},{combo:"KC_MPLY",description:"Play/Pause"},{combo:"KC_MUTE",description:"Mute"},{combo:"KC_VOLU",description:"Volume Up"},{combo:"KC_VOLD",description:"Volume Down"}],LAYERS:[{combo:"TG(1)",description:"Toggle Layer 1"},{combo:"MO(1)",description:"Momentary Layer 1"},{combo:"TO(0)",description:"To Layer 0"}],SPECIAL:[{combo:"KC_PWR",description:"Power"},{combo:"KC_SLEP",description:"Sleep"},{combo:"KC_WAKE",description:"Wake"}],"QMK LIGHTING":[{combo:"RGB_TOG",description:"RGB Toggle"},{combo:"RGB_MOD",description:"RGB Mode"},{combo:"RGB_HUI",description:"Hue Inc"},{combo:"RGB_HUD",description:"Hue Dec"},{combo:"RGB_SAI",description:"Sat Inc"},{combo:"RGB_SAD",description:"Sat Dec"},{combo:"RGB_VAI",description:"Val Inc"},{combo:"RGB_VAD",description:"Val Dec"}]},l=()=>Array(3).fill().map(()=>Array(3).fill({tap:null,hold:null})),m=r.a.memo(e=>{let{keyData:o,isMacro:t,isShortcut:c,onClick:i,onDoubleClick:n,customBgColor:a,customStyles:s}=e;const{combo:l,description:m}=o;let d="",p="";m?(d=m,l&&l!==m&&(p=l)):d=l||"Empty",t?p=p?"".concat(p," (Macro)"):"(Macro)":c&&(p=p?"".concat(p," (Custom)"):"(Custom)");let b="",u="",h="";return a?(b="bg-[".concat(a,"]"),u="text-white",h="text-zinc-400 opacity-80"):t?(b="bg-purple-600 hover:bg-purple-700",u="text-white",h="text-purple-200 opacity-80"):c?(b="bg-blue-600 hover:bg-blue-700",u="text-white",h="text-blue-200 opacity-80"):(b="bg-red-500 hover:bg-red-600",u="text-black",h="text-zinc-700 opacity-80"),r.a.createElement("div",{className:"".concat("\n    relative\n    w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 lg:w-28 lg:h-28\n    flex items-center justify-center\n    font-bold rounded-lg\n    border-b-4 border-r-2 border-red-700\n    active:border-b-0\n    transition-all duration-100 ease-in-out\n    transform active:translate-y-1 active:translate-x-0.5\n    shadow-lg\n    cursor-pointer\n    select-none\n    overflow-hidden\n    p-1\n  "," ").concat(b," ").concat(s||""),onClick:i,onDoubleClick:n,style:a?{backgroundColor:a}:{}},r.a.createElement("div",{className:"text-center break-words leading-tight"},r.a.createElement("span",{className:"block text-base font-bold ".concat(u)},d),p&&r.a.createElement("span",{className:"block text-xs mt-0.5 ".concat(h)},p)))}),d=e=>{let{show:o,title:t,message:c,onClose:i,customButtons:n}=e;return o?r.a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},r.a.createElement("div",{className:"bg-zinc-800 p-6 rounded-lg shadow-xl max-w-md w-full border border-red-500"},r.a.createElement("h2",{className:"text-xl font-bold text-red-300 mb-4"},t),r.a.createElement("p",{className:"text-white mb-6"},c),r.a.createElement("div",{className:"flex justify-end space-x-2"},n?n.map((e,o)=>r.a.createElement("button",{key:o,onClick:e.onClick,className:"".concat(e.className||"bg-red-600 hover:bg-red-700"," text-white font-bold py-2 px-4 rounded-lg")},e.label)):r.a.createElement("button",{onClick:i,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg"},"Close")))):null},p=e=>{let{show:o,onClose:t,onSave:i,macro:n}=e;const[a,s]=Object(c.useState)(""),[l,m]=Object(c.useState)(""),[d,p]=Object(c.useState)(""),[b,u]=Object(c.useState)("");Object(c.useEffect)(()=>{o&&n?(s(n.name||""),m(n.description||""),p(n.sequence||""),u("")):o&&!n&&(s(""),m(""),p(""),u(""))},[o,n]);return o?r.a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},r.a.createElement("div",{className:"bg-zinc-800 p-6 rounded-lg shadow-xl max-w-md w-full border border-red-500"},r.a.createElement("h2",{className:"text-xl font-bold text-red-300 mb-4"},n?"Edit Macro":"Create New Macro"),b&&r.a.createElement("p",{className:"text-red-500 text-sm mb-4"},b),r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{htmlFor:"macroName",className:"block text-white text-sm font-bold mb-2"},"Macro Name:"),r.a.createElement("input",{type:"text",id:"macroName",className:"shadow appearance-none border border-zinc-700 rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-zinc-900",value:a,onChange:e=>s(e.target.value),placeholder:"e.g., Delete Line"})),r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{htmlFor:"macroDescription",className:"block text-white text-sm font-bold mb-2"},"Description (optional):"),r.a.createElement("input",{type:"text",id:"macroDescription",className:"shadow appearance-none border border-zinc-700 rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-zinc-900",value:l,onChange:e=>m(e.target.value),placeholder:"e.g., Deletes current line, copies to clipboard"})),r.a.createElement("div",{className:"mb-6"},r.a.createElement("label",{htmlFor:"macroSequence",className:"block text-white text-sm font-bold mb-2"},"Macro Sequence (e.g., Hello World!","{Enter}",", Ctrl+S","{Delay 100}","{Ctrl+P}","):"),r.a.createElement("textarea",{id:"macroSequence",className:"shadow appearance-none border border-zinc-700 rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-zinc-900 h-24 resize-y",value:d,onChange:e=>p(e.target.value),placeholder:"e.g., Ctrl+C,Ctrl+V,Enter"})),r.a.createElement("div",{className:"flex justify-end space-x-2"},r.a.createElement("button",{onClick:t,className:"bg-zinc-600 hover:bg-zinc-700 text-white font-bold py-2 px-4 rounded-lg"},"Cancel"),r.a.createElement("button",{onClick:()=>{a.trim()?d.trim()?(u(""),i({id:n?n.id:Date.now(),name:a,description:l,sequence:d}),t()):u("Macro sequence cannot be empty."):u("Macro name cannot be empty.")},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg"},n?"Save Changes":"Create Macro")))):null},b=e=>{let{show:o,onClose:t,onConfirm:c,message:i}=e;return o?r.a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},r.a.createElement("div",{className:"bg-zinc-800 p-6 rounded-lg shadow-xl max-w-md w-full border border-red-500"},r.a.createElement("h2",{className:"text-xl font-bold text-red-300 mb-4"},"Confirm Action"),r.a.createElement("p",{className:"text-white mb-6"},i),r.a.createElement("div",{className:"flex justify-end space-x-2"},r.a.createElement("button",{onClick:t,className:"bg-zinc-600 hover:bg-zinc-700 text-white font-bold py-2 px-4 rounded-lg"},"Cancel"),r.a.createElement("button",{onClick:c,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg"},"Confirm")))):null},u=e=>{let{show:o,onClose:t,onSave:i}=e;const[n,a]=Object(c.useState)(""),[s,l]=Object(c.useState)(""),[m,d]=Object(c.useState)("");Object(c.useEffect)(()=>{o&&(a(""),l(""),d(""))},[o]);return o?r.a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},r.a.createElement("div",{className:"bg-zinc-800 p-6 rounded-lg shadow-xl max-w-md w-full border border-red-500"},r.a.createElement("h2",{className:"text-xl font-bold text-red-300 mb-4"},"Add New Shortcut"),m&&r.a.createElement("p",{className:"text-red-500 text-sm mb-4"},m),r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{htmlFor:"shortcutCombo",className:"block text-white text-sm font-bold mb-2"},"Shortcut Combo (e.g., Ctrl+C):"),r.a.createElement("input",{type:"text",id:"shortcutCombo",className:"shadow appearance-none border border-zinc-700 rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-zinc-900",value:n,onChange:e=>a(e.target.value),placeholder:"e.g., Alt+Shift+F"})),r.a.createElement("div",{className:"mb-6"},r.a.createElement("label",{htmlFor:"shortcutDescription",className:"block text-white text-sm font-bold mb-2"},"Description (e.g., Format Document):"),r.a.createElement("input",{type:"text",id:"shortcutDescription",className:"shadow appearance-none border border-zinc-700 rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-zinc-900",value:s,onChange:e=>l(e.target.value),placeholder:"e.g., Open quick search"})),r.a.createElement("div",{className:"flex justify-end space-x-2"},r.a.createElement("button",{onClick:t,className:"bg-zinc-600 hover:bg-zinc-700 text-white font-bold py-2 px-4 rounded-lg"},"Cancel"),r.a.createElement("button",{type:"submit",onClick:()=>{n.trim()?s.trim()?(d(""),i({id:Date.now(),combo:n,description:s,isCustomShortcut:!0}),t()):d("Description cannot be empty."):d("Shortcut combination cannot be empty.")},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg"},"Add Shortcut")))):null};function h(){const[e,o]=Object(c.useState)({0:l()}),[t,i]=Object(c.useState)("0"),[n,h]=Object(c.useState)(Object.fromEntries(Object.entries(s).map(e=>{let[o,t]=e;return[o,[...t]]}))),[g,f]=Object(c.useState)(!1),[C,x]=Object(c.useState)({title:"",message:""}),[S,w]=Object(c.useState)(null),[y,E]=Object(c.useState)("keymap"),[v,N]=Object(c.useState)(""),[k,O]=Object(c.useState)([]),[A,D]=Object(c.useState)([]),[T,R]=Object(c.useState)(1),[z,M]=Object(c.useState)(!1),[j,P]=Object(c.useState)(null),[F,L]=Object(c.useState)(!1),[I,G]=Object(c.useState)(null),[U,_]=Object(c.useState)(""),[H,B]=Object(c.useState)(!1),[V,J]=Object(c.useState)(""),[K,W]=Object(c.useState)(!1),[q,Y]=Object(c.useState)("BASIC"),[Z,Q]=Object(c.useState)(!1),[X,$]=Object(c.useState)(null);Object(c.useEffect)(()=>{const e=document.createElement("style");return e.innerHTML="\n      .custom-scrollbar::-webkit-scrollbar {\n        width: 8px;\n      }\n      .custom-scrollbar::-webkit-scrollbar-track {\n        background: #3f3f46; /* zinc-700 */\n        border-radius: 10px;\n      }\n      .custom-scrollbar::-webkit-scrollbar-thumb {\n        background: #ef4444; /* red-500 */\n        border-radius: 10px;\n      }\n      .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n        background: #dc2626; /* red-600 */\n      }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),Object(c.useEffect)(()=>{oe()},[]),Object(c.useEffect)(()=>{if("keytester"===y){const e=e=>{e.preventDefault(),O(o=>{const t={key:e.key,code:e.code,timestamp:Date.now()};return o.some(o=>o.code===e.code&&"down"===o.type)?o:[...o,Object(a.a)(Object(a.a)({},t),{},{type:"down"})]})},o=e=>{e.preventDefault(),O(o=>o.filter(o=>o.code!==e.code))};return window.addEventListener("keydown",e),window.addEventListener("keyup",o),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",o)}}O([])},[y]),Object(c.useEffect)(()=>{h(e=>Object(a.a)(Object(a.a)({},e),{},{MACRO:A.map(e=>({combo:"MACRO_".concat(e.id),description:e.name,isMacro:!0}))}))},[A]);e[t]&&e[t].flat().every(e=>null===e.tap&&null===e.hold);const ee=()=>{w(null)},oe=()=>{const e=localStorage.getItem("trkey_profile");if(e){const t=JSON.parse(e),c=t.keymap||{0:l()};for(const e in c)Array.isArray(c[e])&&3===c[e].length&&3===c[e][0].length||(c[e]=l());o(c),D(t.macros||[]),x({title:"Profile Loaded",message:"Profile loaded successfully from browser storage."})}else x({title:"No Profile Found",message:"No saved profile found in browser storage."});f(!0)};return r.a.createElement("div",{className:"min-h-screen bg-zinc-800 text-white flex flex-col lg:flex-row font-inter"},r.a.createElement("div",{className:"w-full lg:w-64 bg-zinc-900 p-6 flex flex-col border-b lg:border-b-0 lg:border-r border-zinc-700 shadow-xl"},r.a.createElement("div",{className:"text-2xl font-bold text-red-500 mb-8"},"Trkey"),r.a.createElement("nav",{className:"flex-grow"},r.a.createElement("ul",{className:"space-y-4"},r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:()=>E("keymap"),className:"flex items-center ".concat("keymap"===y?"text-red-300":"text-zinc-400"," hover:text-red-500 font-semibold text-lg transition-colors duration-200")},r.a.createElement("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})),"KEYMAP")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:()=>E("macros"),className:"flex items-center ".concat("macros"===y?"text-red-300":"text-zinc-400"," hover:text-white transition-colors duration-200")},r.a.createElement("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M12 6.293V4a1 1 0 00-1-1H5a1 1 0 00-1 1v10a1 1 0 001 1h6a1 1 0 001-1v-2.293l1.707 1.707a1 1 0 001.414-1.414l-4-4a1 1 0 00-1.414 0l-4 4a1 1 0 001.414 1.414L10 10.414V12a1 1 0 001 1h2a1 1 0 001-1V8.293l1.707 1.707a1 1 0 001.414-1.414l-4-4z"})),"MACROS")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:()=>E("save-load"),className:"flex items-center ".concat("save-load"===y?"text-red-300":"text-zinc-400"," hover:text-white transition-colors duration-200")},r.a.createElement("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M5 4a2 1 0 012-2h6a2 1 0 012 2v14l-5-2.5L5 18V4z"})),"SAVE + LOAD")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:()=>E("settings"),className:"flex items-center ".concat("settings"===y?"text-red-300":"text-zinc-400"," hover:text-white transition-colors duration-200")},r.a.createElement("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M10 2a1 1 0 00-1 1v1a1 1 0 002 0V3a1 1 0 00-1-1zm4 4a1 1 0 011 1v1a1 1 0 01-2 0V7a1 1 0 011-1zM6 6a1 1 0 00-1 1v1a1 1 0 002 0V7a1 1 0 00-1-1zm0 8a1 1 0 00-1 1v1a1 1 0 002 0v-1a1 1 0 00-1-1zm8 0a1 1 0 00-1 1v1a1 1 0 002 0v-1a1 1 0 00-1-1zm-4 4a1 1 0 00-1 1v1a1 1 0 002 0v-1a1 1 0 00-1-1zM2 10a1 1 0 001 1h1a1 1 0 000-2H3a1 1 0 00-1 1zm14 0a1 1 0 001 1h1a1 1 0 000-2h-1a1 1 0 00-1 1zM7 10a3 3 0 116 0 3 3 0 01-6 0z"})),"SETTINGS")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:()=>E("keytester"),className:"flex items-center ".concat("keytester"===y?"text-red-300":"text-zinc-400"," hover:text-white transition-colors duration-200")},r.a.createElement("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1V5a1 1 0 00-1-1h-3.382l-.724-1.447A1 1 0 0011 2H9zM4 6h12v8H4V6z"})),"KEY TESTER")))),r.a.createElement("div",{className:"text-sm text-zinc-500 mt-auto"},r.a.createElement("p",null,"Version 1.0"),r.a.createElement("p",null,"Device: Micropad"))),r.a.createElement("div",{className:"flex-grow p-4 lg:p-8 bg-zinc-800 flex flex-col"},r.a.createElement("div",{className:"flex justify-end items-center mb-4 pb-4 border-b border-zinc-700"},r.a.createElement("div",{className:"text-zinc-500 text-sm sm:text-base"},r.a.createElement("span",{className:"mr-1 sm:mr-2"},"1UP60HSE"))),"keymap"===y&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mb-6 lg:mb-10"},r.a.createElement("h2",{className:"text-xl font-bold text-red-300 mb-4"},"KEYMAP"),r.a.createElement("div",{className:"flex space-x-2 mb-6"},["0","1","2","3"].map(e=>r.a.createElement("button",{key:e,onClick:()=>i(e),className:"px-3 py-1 sm:px-4 sm:py-2 rounded-md font-semibold text-sm sm:text-lg transition-colors duration-200 ".concat(t===e?"bg-red-600 text-white":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600")},e))),e[t]&&e[t].length>0?r.a.createElement("div",{className:"bg-zinc-900 p-4 sm:p-6 rounded-lg shadow-inner border border-zinc-700 w-fit mx-auto"},r.a.createElement("div",{className:"grid grid-cols-3 gap-2"},e[t].map((e,c)=>e.map((e,i)=>r.a.createElement(m,{key:"".concat(c,"-").concat(i),keyData:e.tap||{},isMacro:e.tap&&e.tap.isMacro,isShortcut:e.tap&&e.tap.isCustomShortcut,draggable:!0,onDragStart:o=>((e,o,t,c)=>{const r=JSON.stringify({isKeymapCell:!0,cell:o,sourceRow:t,sourceCol:c});e.dataTransfer.setData("text/plain",r)})(o,e,c,i),onDrop:e=>((e,c,r)=>{e.preventDefault();const i=e.dataTransfer.getData("text/plain");o(e=>{const o=[...e[t]||l()];try{const s=JSON.parse(i);if(s.isKeymapCell){const e=s.sourceRow,t=s.sourceCol,i=o[c][r];o[c][r]=s.cell,o[e][t]=i}else{let e=Object(a.a)({},s);("AI GENERATED"===q||e.isCustomShortcut)&&(e.isCustomShortcut=!0),o[c][r]={tap:e,hold:null}}return Object(a.a)(Object(a.a)({},e),{},{[t]:o})}catch(n){return console.error("Failed to parse dropped data:",n),o[c][r]={tap:{combo:i,description:i,isCustomShortcut:!0},hold:null},Object(a.a)(Object(a.a)({},e),{},{[t]:o})}}),w(null)})(e,c,i),onDragOver:e=>e.preventDefault(),onDragEnd:ee,className:"\n                            w-20 h-20 sm:w-24 sm:h-24 rounded-md shadow-md border border-zinc-600\n                            flex flex-col justify-center items-center cursor-grab active:cursor-grabbing\n                            relative overflow-hidden\n                            transform transition-all duration-200\n                            ".concat(S?"border-dashed border-red-300":"hover:bg-red-600 hover:scale-105","\n                          ")}))))):r.a.createElement("div",{className:"bg-zinc-900 p-6 rounded-lg shadow-inner border border-zinc-700 h-48 flex items-center justify-center text-zinc-400 text-lg text-center"},"No keymap configured for Layer ",t,". Drag shortcuts from the pool below to configure this layer.")),r.a.createElement("div",{className:"mt-6 lg:mt-10 w-full"},r.a.createElement("h2",{className:"text-xl text-red-400 font-bold mb-4"},"SHORTCUTS"),r.a.createElement("div",{className:"flex flex-wrap gap-2 mb-4 p-2 bg-zinc-900 rounded-lg border border-zinc-700 overflow-x-auto custom-scrollbar"},Object.keys(n).map(e=>r.a.createElement("button",{key:e,onClick:()=>Y(e),className:"\n                      px-4 py-2 rounded-md font-semibold text-sm\n                      ".concat(q===e?"bg-red-600 text-white":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600","\n                      transition-colors duration-200 flex-shrink-0\n                    ")},e.replace(/_/g," ")," "))),r.a.createElement("div",{className:"bg-zinc-900 p-4 rounded-xl shadow-xl border border-red-600"},r.a.createElement("h3",{className:"text-lg font-semibold mb-3 text-red-300 border-b border-red-500 pb-2"},q.replace(/_/g," ")," Shortcuts"),r.a.createElement("div",{className:"grid grid-cols-auto-fit-minmax gap-2",style:{gridTemplateColumns:"repeat(auto-fit, minmax(80px, 1fr))"}},n[q]&&n[q].map((e,o)=>r.a.createElement("div",{key:"".concat(q,"-").concat(o),draggable:!0,onDragStart:o=>((e,o)=>{e.dataTransfer.setData("text/plain",JSON.stringify(o)),w(o)})(o,e),onDragEnd:ee,className:" w-full h-20 bg-zinc-700 text-white rounded-md shadow-md cursor-grab hover:bg-red-500 hover:scale-105 transition-all duration-200 flex flex-col items-center justify-center text-center text-sm font-medium relative overflow-hidden "},r.a.createElement("span",{className:"relative z-10 px-1"},e.description||e.combo),r.a.createElement("input",{type:"text",value:e.combo,onChange:t=>((e,o,t)=>{h(c=>{const r=Object(a.a)({},c);return r[e]||(r[e]=[]),r[e][o]=t,r})})(q,o,Object(a.a)(Object(a.a)({},e),{},{combo:t.target.value,description:e.description||t.target.value})),onClick:e=>e.stopPropagation(),className:"absolute inset-0 w-full h-full bg-transparent text-transparent border-none focus:outline-none cursor-text opacity-0",style:{zIndex:10}}))),r.a.createElement("button",{onClick:()=>{Q(!0)},className:" w-full h-20 bg-zinc-800 hover:bg-zinc-700 text-white text-sm py-2 rounded-md transition-colors duration-200 flex items-center justify-center shadow-md border border-zinc-600 hover:border-red-500 "},"+ Add Shortcut"))),r.a.createElement("div",{className:"mt-8 bg-zinc-900 p-4 rounded-xl shadow-xl border border-blue-600"},r.a.createElement("h3",{className:"text-lg font-semibold mb-3 text-blue-300 border-b border-blue-500 pb-2"},"AI-POWERED SHORTCUT GENERATOR"),r.a.createElement("p",{className:"text-sm text-zinc-400 mb-3"},'Describe the shortcuts you need (e.g., "common shortcuts for web browsing in macOS", "media controls for Windows").'),r.a.createElement("textarea",{className:"w-full h-24 bg-zinc-800 text-white p-3 rounded-md border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"e.g., shortcuts for navigating documents in Linux",value:U,onChange:e=>_(e.target.value)}),r.a.createElement("button",{onClick:async()=>{B(!0);try{const o=[],t='Generate a JSON array of 5-10 common keyboard shortcuts based on the following request: "'.concat(U,'". Each object in the array should have two properties: "combo" (the actual key combination, e.g., "Ctrl+C", "Win+D", "KC_MPLY") and "description" (a brief explanation of what the shortcut does, e.g., "Copy selected text", "Show desktop", "Play/Pause media"). Ensure the output is valid JSON and only contains the array.');o.push({role:"user",parts:[{text:t}]});const c={contents:o,generationConfig:{responseMimeType:"application/json",responseSchema:{type:"ARRAY",items:{type:"OBJECT",properties:{combo:{type:"STRING"},description:{type:"STRING"}},propertyOrdering:["combo","description"]}}}},r="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=".concat(""),i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),n=await i.json();if(!(n.candidates&&n.candidates.length>0&&n.candidates[0].content&&n.candidates[0].content.parts&&n.candidates[0].content.parts.length>0))throw new Error("No valid response from AI for shortcuts.");{const e=n.candidates[0].content.parts[0].text,o=JSON.parse(e);if(!Array.isArray(o))throw new Error("AI response was not a valid array of shortcuts.");h(e=>Object(a.a)(Object(a.a)({},e),{},{"AI GENERATED":o.filter(e=>e.combo&&e.description).map(e=>Object(a.a)(Object(a.a)({},e),{},{isCustomShortcut:!0}))})),Y("AI GENERATED"),x({title:"AI Shortcuts Generated",message:"New shortcuts added to 'AI GENERATED' category in the shortcut pool."})}}catch(e){console.error("AI Generation Error:",e),x({title:"AI Generation Failed",message:"Could not generate shortcuts. Please try again or refine your prompt. Error: "+e.message})}finally{B(!1),f(!0)}},disabled:H,className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white text-lg py-2 rounded-lg transition-colors duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"},H?"Generating...":"Generate with AI")))),"macros"===y&&r.a.createElement("div",{className:"w-full max-w-4xl mx-auto"},r.a.createElement("h2",{className:"text-xl font-bold text-red-300 mb-4"},"MACROS"),r.a.createElement("div",{className:"bg-zinc-900 p-6 rounded-lg shadow-inner border border-zinc-700 mb-6"},r.a.createElement("button",{onClick:()=>{P(null),M(!0)},className:"bg-red-600 hover:bg-red-700 px-6 py-3 rounded-full shadow-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-75 mb-4"},"+ Add New Macro"),0===A.length?r.a.createElement("p",{className:"text-zinc-400"},"No macros defined yet. Add a new macro or use the AI generator below."):r.a.createElement("div",{className:"space-y-4"},A.map(e=>r.a.createElement("div",{key:e.id,className:"bg-zinc-800 p-4 rounded-md border border-zinc-700 flex flex-col sm:flex-row justify-between items-start sm:items-center"},r.a.createElement("div",{className:"mb-2 sm:mb-0"},r.a.createElement("h4",{className:"font-semibold text-lg text-red-200"},e.name),r.a.createElement("p",{className:"text-sm text-zinc-300 break-all"},e.sequence)),r.a.createElement("div",{className:"flex space-x-2"},r.a.createElement("button",{onClick:()=>(e=>{P(e),M(!0)})(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md text-sm"},"Edit"),r.a.createElement("button",{onClick:()=>(e=>{G(e),L(!0)})(e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md text-sm"},"Delete")))))),r.a.createElement("div",{className:"mt-8 bg-zinc-900 p-4 rounded-xl shadow-xl border border-blue-600"},r.a.createElement("h3",{className:"text-lg font-semibold mb-3 text-blue-300 border-b border-blue-500 pb-2"},"AI-POWERED MACRO GENERATOR"),r.a.createElement("p",{className:"text-sm text-zinc-400 mb-3"},'Describe the macros you need (e.g., "macro for opening calculator", "email signature macro").'),r.a.createElement("textarea",{className:"w-full h-24 bg-zinc-800 text-white p-3 rounded-md border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"e.g., macro for inserting current date",value:V,onChange:e=>J(e.target.value)}),r.a.createElement("button",{onClick:async()=>{W(!0);try{const o=[],t='Generate a JSON array of 1-3 simple macros based on the following request: "'.concat(V,'". Each object in the array should have two properties: "name" (a short descriptive name for the macro) and "sequence" (the key sequence for the macro, e.g., "Hello World!{Enter}", "Ctrl+S{Delay 100}Ctrl+P"). Use common key names like {Enter}, {Tab}, {Space}, {Escape}, {Backspace}, {Delete} for special keys. Ensure the output is valid JSON and only contains the array.');o.push({role:"user",parts:[{text:t}]});const c={contents:o,generationConfig:{responseMimeType:"application/json",responseSchema:{type:"ARRAY",items:{type:"OBJECT",properties:{name:{type:"STRING"},sequence:{type:"STRING"}},propertyOrdering:["name","sequence"]}}}},r="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=".concat(""),i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),n=await i.json();if(!(n.candidates&&n.candidates.length>0&&n.candidates[0].content&&n.candidates[0].content.parts&&n.candidates[0].content.parts.length>0))throw new Error("No valid response from AI for macros.");{const e=n.candidates[0].content.parts[0].text,o=JSON.parse(e);if(!Array.isArray(o))throw new Error("AI response was not a valid array of macros.");D(e=>{let t=T;const c=o.map(e=>({id:t++,name:e.name,sequence:e.sequence}));return R(t),[...e,...c.filter(e=>e.name&&e.sequence)]}),x({title:"AI Macros Generated",message:"New macros added to your list."})}}catch(e){console.error("AI Macro Generation Error:",e),x({title:"AI Macro Generation Failed",message:"Could not generate macros. Please try again or refine your prompt. Error: "+e.message})}finally{W(!1),f(!0)}},disabled:K,className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white text-lg py-2 rounded-lg transition-colors duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"},K?"Generating...":"Generate with AI"))),"keytester"===y&&r.a.createElement("div",{className:"w-full max-w-4xl mx-auto"},r.a.createElement("h2",{className:"text-xl font-bold text-red-300 mb-4"},"KEY TESTER"),r.a.createElement("div",{className:"bg-zinc-900 p-6 rounded-lg shadow-inner border border-zinc-700 h-64 overflow-y-auto custom-scrollbar"},r.a.createElement("p",{className:"text-zinc-400 mb-4"},"Press any key on your physical keyboard to see its key code and key value."),0===k.length?r.a.createElement("p",{className:"text-zinc-500"},"No keys pressed yet..."):r.a.createElement("ul",{className:"space-y-2"},k.map((e,o)=>r.a.createElement("li",{key:o,className:"bg-zinc-700 p-2 rounded-md font-mono text-sm"},r.a.createElement("span",{className:"text-red-300"},"Key:")," ",e.key," | ",r.a.createElement("span",{className:"text-blue-300"},"Code:")," ",e.code))))),"save-load"===y&&r.a.createElement("div",{className:"flex flex-col items-center justify-center h-full text-zinc-400 text-2xl w-full max-w-4xl mx-auto"},r.a.createElement("h2",{className:"text-xl font-bold text-red-300 mb-4"},"SAVE / LOAD Profile"),r.a.createElement("div",{className:"bg-zinc-900 p-6 rounded-lg shadow-inner border border-zinc-700 w-full flex flex-wrap justify-center gap-4 mt-8"},r.a.createElement("button",{onClick:()=>{const o={keymap:e,macros:A};localStorage.setItem("trkey_profile",JSON.stringify(o)),x({title:"Profile Saved",message:"Your current keymap and macros have been saved to your browser's local storage."}),f(!0)},className:"bg-zinc-700 hover:bg-zinc-600 px-6 py-3 rounded-full shadow-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:ring-opacity-75"},"Save Profile"),r.a.createElement("button",{onClick:oe,className:"bg-zinc-700 hover:bg-zinc-600 px-6 py-3 rounded-full shadow-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:ring-opacity-75"},"Load Profile"))),"settings"===y&&r.a.createElement("div",{className:"flex flex-col items-center justify-center w-full text-zinc-400"},r.a.createElement("h2",{className:"text-xl font-bold text-red-300 mb-4"},"SETTINGS"),r.a.createElement("div",{className:"bg-zinc-900 p-6 rounded-lg shadow-inner border border-zinc-700 w-full max-w-4xl mb-8"},r.a.createElement("h3",{className:"text-lg font-semibold text-red-300 mb-4"},"QMK JSON Configuration"),r.a.createElement("p",{className:"mb-4 text-sm"},"You can export your current micropad keymap as JSON, upload it to your device, or load a keymap by pasting JSON below. Note: This configurator supports a 3x3 micropad layout."),r.a.createElement("div",{className:"flex flex-wrap justify-center gap-4 mb-6"},r.a.createElement("button",{onClick:()=>{const o={};for(const a in e){const t=[];for(let o=0;o<3;o++)for(let c=0;c<3;c++){const r=e[a][o][c];t.push(r.tap?r.tap.combo:"KC_NO")}o[a]=t}const t={};A.forEach(e=>{const o="MACRO_".concat(e.name.toUpperCase().replace(/\s/g,"_").replace(/[^A-Z0-9_]/g,""));t[o]=[e.sequence]});const c={layers:o,macros:t,combos:[]},r=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),i=URL.createObjectURL(r),n=document.createElement("a");n.href=i,n.download="trkey_config.json",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i),x({title:"Export Successful",message:"Configuration exported as trkey_config.json."}),f(!0)},className:"bg-red-600 hover:bg-red-700 px-6 py-3 rounded-full shadow-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-75"},"Export Keymap JSON"),X?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:async()=>{if(!X)return x({title:"No Device Connected",message:"Please connect to your micropad first."}),void f(!0);try{null===X.readable&&null===X.writable&&await X.open({baudRate:5e5});const t=X.writable.getWriter(),c={};for(const o in e){const t=[];for(let c=0;c<3;c++)for(let r=0;r<3;r++){const i=e[o][c][r];t.push(i.tap?i.tap.combo:"KC_NO")}c[o]=t}const r={};A.forEach(e=>{const o="MACRO_".concat(e.name.toUpperCase().replace(/\s/g,"_").replace(/[^A-Z0-9_]/g,""));r[o]=[e.sequence]});const i={layers:c,macros:r,combos:[]},n=JSON.stringify(i),a=new TextEncoder;await t.write(a.encode(n)),t.releaseLock(),x({title:"Upload Successful",message:"Configuration uploaded successfully! The device should restart with the new keymap."})}catch(o){x({title:"Upload Failed",message:"Failed to upload: "+o.message+". Please ensure the device is ready to receive data (e.g., in programming mode or awaiting input)."})}finally{f(!0)}},className:"bg-white text-black hover:bg-zinc-200 px-6 py-3 rounded-full shadow-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-75"},"Upload Keymap to Device"),r.a.createElement("button",{onClick:async()=>{if(X)try{await X.close(),$(null),x({title:"Disconnected",message:"Micropad disconnected successfully."})}catch(e){x({title:"Disconnection Failed",message:"Failed to disconnect: "+e.message})}finally{f(!0)}},className:"bg-zinc-700 hover:bg-zinc-600 text-white px-6 py-3 rounded-full shadow-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:ring-opacity-75"},"Disconnect Micropad")):r.a.createElement("button",{onClick:async()=>{try{const o=await navigator.serial.requestPort();$(o),x({title:"Device Connected",message:"Micropad connected successfully. You can now upload your keymap."})}catch(e){x({title:"Connection Failed",message:"Failed to connect to device: "+e.message}),$(null)}finally{f(!0)}},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-full shadow-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75"},"Connect to Micropad")),r.a.createElement("h4",{className:"text-md font-semibold text-red-300 mb-2"},"Load JSON from Text Area"),r.a.createElement("textarea",{className:"w-full h-40 bg-zinc-800 text-white p-4 rounded-md border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-red-500 font-mono text-sm",placeholder:"Paste your QMK keymap JSON here...",value:v,onChange:e=>N(e.target.value)}),r.a.createElement("button",{onClick:()=>{try{const t=JSON.parse(v);let c=[];if(t.macros&&"object"===typeof t.macros){let e=1;for(const o in t.macros){const r=t.macros[o];if(Array.isArray(r)&&r.length>0){const t=r[0];let i=o.replace(/^MACRO_/,"").replace(/_/g," ").toLowerCase();i=i.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),c.push({id:e++,name:i,sequence:t})}}D(c),R(e)}else D([]),R(1);if(t.layers&&"object"===typeof t.layers){const e={};for(const o in t.layers){const r=t.layers[o],i=l();if(Array.isArray(r)&&9===r.length)for(let e=0;e<9;e++){const o=Math.floor(e/3),t=e%3,n=r[e];if(n&&"KC_NO"!==n){let e={combo:n,description:n};if(n.startsWith("MACRO_")){const o=n.replace(/^MACRO_/,"").replace(/_/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),t=c.find(e=>e.name===o);t?(e.description=t.name,e.isMacro=!0):(e.description=o,e.isCustomShortcut=!0)}else{const o=Object.values(s).flat().find(e=>e.combo===n);o?e.description=o.description:e.isCustomShortcut=!0}i[o][t]={tap:e,hold:null}}}else console.warn("Layer ".concat(o," in JSON is malformed (expected 9 elements) and was reset to empty."));e[String(o)]=i}e[0]||(e[0]=l()),o(e),i("0")}else o({0:l()}),i("0");t.combos&&Array.isArray(t.combos)&&console.log("Combos found in JSON, but not currently used by UI:",t.combos),x({title:"JSON Loaded",message:"Configuration loaded from text area successfully."})}catch(e){x({title:"JSON Parsing Error",message:"Failed to parse JSON: "+e.message})}finally{f(!0)}},className:"mt-4 w-full bg-red-800 hover:bg-red-900 text-white text-lg py-3 rounded-full transition-colors duration-200 shadow-lg"},"Load JSON")),r.a.createElement("h3",{className:"text-lg font-semibold text-red-300 mb-2"},"Current Keymap JSON Preview"),r.a.createElement("pre",{className:"mt-2 text-sm bg-zinc-900 p-6 rounded-lg text-left w-full max-w-4xl overflow-x-auto border border-red-500 font-mono shadow-inner"},JSON.stringify({layers:Object.keys(e).map(o=>{const t=[];for(let c=0;c<3;c++)for(let r=0;r<3;r++){const i=e[o][c][r];t.push(i.tap?i.tap.combo:"KC_NO")}return t}),macros:Object.fromEntries(A.map(e=>["MACRO_".concat(e.name.toUpperCase().replace(/\s/g,"_").replace(/[^A-Z0-9_]/g,"")),[e.sequence]])),combos:[]},null,2)))),r.a.createElement(d,{show:g,title:C.title,message:C.message,onClose:()=>f(!1),customButtons:C.customButtons}),r.a.createElement(p,{show:z,onClose:()=>M(!1),onSave:e=>{e.id?D(o=>o.map(o=>o.id===e.id?e:o)):(D(o=>[...o,Object(a.a)(Object(a.a)({},e),{},{id:T})]),R(e=>e+1)),M(!1)},macro:j}),r.a.createElement(b,{show:F,onClose:()=>L(!1),onConfirm:()=>{D(e=>e.filter(e=>e.id!==I)),L(!1),G(null)},message:"Are you sure you want to delete this macro? This action cannot be undone."}),r.a.createElement(u,{show:Z,onClose:()=>Q(!1),onSave:e=>{h(o=>{const t=Object(a.a)({},o);return t[q]||(t[q]=[]),t[q].push(e),t}),Q(!1)}}))}n.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)))},5:function(e,o,t){e.exports=t(15)}},[[5,1,2]]]);
//# sourceMappingURL=main.59b89af1.chunk.js.map